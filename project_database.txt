DROP DATABASE IF EXISTS `social`;

CREATE DATABASE `social`;

use social;

CREATE TABLE users (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(15) NOT NULL,
password VARCHAR(30) NOT NULL ,
firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
email VARCHAR(50),
created_at TIMESTAMP
);



CREATE TABLE posts (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
user_id INT(6) UNSIGNED,
text VARCHAR(1000),
created_at TIMESTAMP,

FOREIGN KEY ( user_id )
		REFERENCES social.users(id)
		ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE users_firends(
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
user_id INT(6) UNSIGNED,
friend_id INT(6) UNSIGNED,
created_at TIMESTAMP,

FOREIGN KEY ( user_id )
		REFERENCES social.users(id)
		ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ( friend_id )
		REFERENCES social.users(id)
		ON DELETE CASCADE ON UPDATE CASCADE
);
